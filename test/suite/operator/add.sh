. test/assert.sh

hint 'operator/add'

# Numeric Addition
pass '("+" #1# #5#)' '#6#'
pass '("+" #0# #5#)' '#5#'
pass '("+" #5# #10#)' '#15#'
pass '("+" #-5# #10#)' '#5#'
pass '("+" #5# #-10#)' '#-5#'
pass '("+" #-5# #-10#)' '#-15#'
pass '("+" #10# #5#)' '#15#'
pass '("+" #-10# #5#)' '#-5#'
pass '("+" #10# #-5#)' '#5#'
pass '("+" #-10# #-5#)' '#-15#'
pass '("+" #999999999# #0#)' '#999999999#'
pass '("+" #-999999999# #0#)' '#-999999999#'
pass '("+" #999999999# #-999999999#)' '#0#'

# String Concatenation
pass '("+" "left" "right")' '"leftright"'
pass '("+" "" "word")' '"word"'
pass '("+" "word" "")' '"word"'
pass '("+" "\t\r\n" "\\\"")' '"\t\r\n\\\""'

# List Concatenation
pass '("+" [#1# #2#] [#3# #4#])' '[#1# #2# #3# #4#]'
pass '("+" [] [#3# #4#])' '[#3# #4#]'
pass '("+" [#1# #2#] [])' '[#1# #2#]'
pass '("+" [] [])' '[]'

# Map Merging
pass '("+" {"a" ? "b" ?} {"c" ? "d" ?})' '{"a" ? "b" ? "c" ? "d" ?}'
pass '("+" {} {"c" ? "d" ?})' '{"c" ? "d" ?}'
pass '("+" {"a" ? "b" ?} {})' '{"a" ? "b" ?}'
pass '("+" {} {})' '{}'
pass '("+" {"x" #1#} {"x" #2#})' '{"x" #2#}'
pass '("+" {"x" ?} {"x" #2#})' '{"x" #2#}'
pass '("+" {"x" #1#} {"x" ?})' '{"x" ?}'

# Bounds Error
fail '("+" #999999999# #1#)' '#2#'
fail '("+" #-999999999# #-1#)' '#2#'
fail '("+" #999999999# #999999999#)' '#2#'

# Argument Error
fail '("+")' '#4#'
fail '("+" ?)' '#4#'
fail '("+" ? ?)' '#4#'
fail '("+" ? ##)' '#4#'
fail '("+" ? "")' '#4#'
fail '("+" ? [])' '#4#'
fail '("+" ? {})' '#4#'
fail '("+" ##)' '#4#'
fail '("+" ## ?)' '#4#'
fail '("+" ## "")' '#4#'
fail '("+" ## [])' '#4#'
fail '("+" ## {})' '#4#'
fail '("+" "")' '#4#'
fail '("+" "" ?)' '#4#'
fail '("+" "" ##)' '#4#'
fail '("+" "" [])' '#4#'
fail '("+" "" {})' '#4#'
fail '("+" [])' '#4#'
fail '("+" [] ?)' '#4#'
fail '("+" [] ##)' '#4#'
fail '("+" [] "")' '#4#'
fail '("+" [] {})' '#4#'
fail '("+" {})' '#4#'
fail '("+" {} ?)' '#4#'
fail '("+" {} ##)' '#4#'
fail '("+" {} "")' '#4#'
fail '("+" {} [])' '#4#'

# Error Propogation
fail '("+" ("<>" "ERROR") #5#)' '"ERROR"'
fail '("+" #10# ("<>" "ERROR"))' '"ERROR"'
