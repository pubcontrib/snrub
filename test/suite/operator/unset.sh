. test/assert.sh

hint 'operator/unset'

# Value Unsetting
pass '("$--" "abc" #0#)' '"abc"'
pass '("$--" "abc" #1#)' '"bc"'
pass '("$--" "abc" #2#)' '"ac"'
pass '("$--" "abc" #3#)' '"ab"'
pass '("$--" "abc" #4#)' '"abc"'
pass '("$--" [?] #1#)' '[]'
pass '("$--" [#10#] #1#)' '[]'
pass '("$--" ["10"] #1#)' '[]'
pass '("$--" [[#10#]] #1#)' '[]'
pass '("$--" [#10# #20# #30#] #0#)' '[#10# #20# #30#]'
pass '("$--" [#10# #20# #30#] #1#)' '[#20# #30#]'
pass '("$--" [#10# #20# #30#] #2#)' '[#10# #30#]'
pass '("$--" [#10# #20# #30#] #3#)' '[#10# #20#]'
pass '("$--" [#10# #20# #30#] #4#)' '[#10# #20# #30#]'
pass '("$--" {"null" ?} "null")' '{}'
pass '("$--" {"number" #100#} "number")' '{}'
pass '("$--" {"string" "word"} "string")' '{}'
pass '("$--" {"list" [#1# #2# #3#]} "list")' '{}'
pass '("$--" {"map" {"key" "value"}} "map")' '{}'
pass '("$--" {"one" #1# "two" #2# "three" #3#} "one")' '{"three" #3# "two" #2#}'
pass '("$--" {"one" #1# "two" #2# "three" #3#} "two")' '{"one" #1# "three" #3#}'
pass '("$--" {"one" #1# "two" #2# "three" #3#} "three")' '{"one" #1# "two" #2#}'
pass '("$--" {"one" #1# "two" #2# "three" #3#} "four")' '{"one" #1# "three" #3# "two" #2#}'

# Argument Error
fail '("$--")' '#4#'
fail '("$--" ?)' '#4#'
fail '("$--" ? ?)' '#4#'
fail '("$--" ? ##)' '#4#'
fail '("$--" ? "")' '#4#'
fail '("$--" ? [])' '#4#'
fail '("$--" ? {})' '#4#'
fail '("$--" ##)' '#4#'
fail '("$--" ## ?)' '#4#'
fail '("$--" ## ##)' '#4#'
fail '("$--" ## "")' '#4#'
fail '("$--" ## [])' '#4#'
fail '("$--" ## {})' '#4#'
fail '("$--" "")' '#4#'
fail '("$--" "" ?)' '#4#'
fail '("$--" "" "")' '#4#'
fail '("$--" "" [])' '#4#'
fail '("$--" "" {})' '#4#'
fail '("$--" [])' '#4#'
fail '("$--" [] ?)' '#4#'
fail '("$--" [] "")' '#4#'
fail '("$--" [] [])' '#4#'
fail '("$--" [] {})' '#4#'
fail '("$--" {})' '#4#'
fail '("$--" {} ?)' '#4#'
fail '("$--" {} ##)' '#4#'
fail '("$--" {} [])' '#4#'
fail '("$--" {} {})' '#4#'

# Error Propogation
fail '("$--" ("<>" "ERROR") #1#)' '"ERROR"'
fail '("$--" "abc" ("<>" "ERROR"))' '"ERROR"'
