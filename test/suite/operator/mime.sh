. test/assert.sh

hint 'operator/mime'

# Mime Overloads
pass '("^" "fn" "#123#") ("()^" "fn") ("fn" ?)' '#123#'
fail '("^" "fn" "#123#") ("~" "(\"fn\" ?)" ?)' '#4#'
pass '("^" "fn" "#123#") ("~" "(\"()^\" \"fn\") (\"fn\" ?)" ?)' '#123#'
pass '("^" "fn" "#123#") ("~" "(\"()^\" \"fn\") (\"^\" \"fn\" \"#456#\")" ?) ("fn" ?)' '#123#'
pass '("^" "fn" "#123#") ("~" "(\"()^\" \"fn\") (\"^\" \"fn\" \"#456#\")" ?) ("^" "fn" "#789#") ("fn" ?)' '#789#'
fail '("()^" "fn") ("fn" ?)' '#4#'

# Argument Error
fail '("()^" ?)' '#4#'
fail '("()^" ##)' '#4#'
fail '("()^" [])' '#4#'
fail '("()^" {})' '#4#'

# Error Propogation
fail '("()^" ("<>" "ERROR"))' '"ERROR"'
